<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>註冊新帳號</title>
    <link rel="stylesheet" href="style.css">
    <script src="api.js"></script>
</head>

<body>
    <header class="site-header">
        <div class="header-inner">
            <!-- 左邊：logo + 導覽連結，全靠左 -->
            <div class="header-left">
                <div class="header-logo"> TC2 DB</div>
                <nav class="header-nav">
                    <a href="home.html" class="nav-link nav-link-active">首頁</a>
                </nav>
            </div>
        </div>
    </header>
    <div class="app">
        <h1>Create new account</h1>

        <label>
            帳號：<br>
            <input type="text" id="reg-username">
        </label><br>
        <label>
            密碼：<br>
            <input type="password" id="reg-password">
        </label><br>
        <button id="reg-btn">註冊</button>
        <p id="reg-msg"></p>

        <hr>

        <p>
            已經有帳號了？
            <button id="back-login">回到登入</button>
        </p>
    </div>

    <script>
        const regBtn = document.getElementById("reg-btn");
        const backBtn = document.getElementById("back-login");

        regBtn.addEventListener("click", () => {
            const u = document.getElementById("reg-username").value;
            const p = document.getElementById("reg-password").value;
            apiRegister(u, p).then(result => {
                const msg = document.getElementById("reg-msg");
                if (result.success) {
                    msg.innerText = "註冊成功，請回登入畫面登入。";
                } else {
                    msg.innerText = result.message || "註冊失敗";
                }
            });
        });

        backBtn.addEventListener("click", () => {
            window.location.href = "index.html";
        });
    </script>
</body>

</html>